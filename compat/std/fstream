#ifndef IGRIS_STD_FSTREAM_H
#define IGRIS_STD_FSTREAM_H
#include "igris_std_config.hpp"

#include "ios"
#include "istream"
#include "ostream"
#include "string"

namespace IGRIS_STD_NS
{
    class fstream : virtual public istream, virtual public ostream

    {
        bool m_open = false;

    public:
        fstream() = default;
        explicit fstream(const IGRIS_STD_NS::string &path) { open(path); }
        fstream(const IGRIS_STD_NS::string &path, int)
        {
            open(path);
        }

        ~fstream() = default;
        operator bool()
        {
            return is_open();
        }

        void open(const IGRIS_STD_NS::string &)
        {
            m_open = true;
        }
        void open(const IGRIS_STD_NS::string &, int)
        {
            m_open = true;
        }

        bool is_open()
        {
            return m_open;
        }

        void close()
        {
            m_open = false;
        }
    };

    class ifstream : virtual public fstream
    {
        int m_gcount = 0;

    public:
        ifstream() = default;
        explicit ifstream(const IGRIS_STD_NS::string &path) { open(path); }
        ifstream(const IGRIS_STD_NS::string &path, int)
        {
            open(path);
        }

        bool fail()
        {
            return !is_open();
        }

        bool good()
        {
            return is_open();
        }

        bool eof()
        {
            return false;
        }

        int read(char *buf, int sz)
        {
            (void)buf;
            (void)sz;
            m_gcount = 0;
            return 0;
        }

        int gcount()
        {
            return m_gcount;
        }
    };
}

#endif
