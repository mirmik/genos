# Настройка нулевых положений осей с помощью комманд SCPI протокола.

## Подключение к серверу.
Передача текстовых комманд по протокол SCPI требует установки tcp соединения с сервером комманд. Один из способов установки такого соединения - использование программы putty.  

Получить программу можно по ссылкам: 

* 64-bit installer:  
`https://the.earth.li/~sgtatham/putty/latest/w64/putty-64bit-0.73-installer.msi`

* 64-bit portable:  
`https://the.earth.li/~sgtatham/putty/latest/w64/putty.exe`

* Полный выбор вариантов:  
`https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html`

### Установка соединения с использованием putty.

1. В главном окне ввести/выбрать:  
Host Name: ввести ip адресс устройства (например: `192.168.1.208`)  
Port: `5025`  
Connection Type: `Raw`  
2. Нажать Open.  
3. (Опционально) Проверить установку соединения, введя в открывшемся окне:  
`*IDN?`  
Нажать Enter.  
На экране должен отобразиться идентификатор изделия.  

## Восстановление нулевого положения оси. 

### Используемые комманды.
`AXIS#:STAT:IDN?` - запрос имени оси.  
`AXIS#:UPOS?` - запрос текущей позиции.  
`AXIS#:UMOV [ARG]` - инкрементальное перемещение.  
`AXIS#:SETZER` - обнуление текущей позиции.  

`#` - номер оси.  
`[ARG]` - аргумент.   

### Вспомогательные комманды
`AXIS#:SETTINGS:UBACKLIM?` - запрос нижнего предела  
`AXIS#:SETTINGS:UFORWLIM?` - запрос верхнего предела  

### Порядок действий и применение комманд.
1. Узнать номер интересующей нас оси.
Типовые номера/названия осей для опорно поворотного устройства:  
Азимут - 0 - Az  
Элевация - 1 - El  
Прочие оси в зависимости от конфигурации изделия.  
Типовые номера/названия осей для планарного сканера:  
Ось X - 0 - X  
Ось Y - 1 - Y  
Прочие оси в зависимости от конфигурации изделия.  
Для того, чтобы убедиться в том, что ось имеет тот или иной номер используйте команду запроса имени оси:  
`AXIS#:STAT:IDN?`, где # заменяется на номер оси.  

2. Обнулить текущее положение.  
(Внимание. Убедитесь, что номер оси правильный)  
Введите:  
`AXIS#:SETZER` (Здесь и далее # заменяется на номер оси).
Пример: `AXIS2:SETZER`

3. Убедиться в том, что положение обнулилось с помощью комманды:
`AXIS#:UPOS?`
Пример: `AXIS1:UPOS?`  
Должен вернуться ноль или близкое к нулю значение.  

4. Переместить ось к устанавливаемому нулевому положению.  
Для этого используется команда инкрементального перемещения:  
`AXIS#:UMOV [ARG]` 
Здесь [ARG] - расстояние в сантиметрах/градусах. Положительные/Отрицательные значения отвечаютют за выбор направления.  
Пример: `AXIS2:UMOV 15.16`  
Пример: `AXIS1:UMOV -22`

5. После того, как изделие будет возвращено к новому нулевому положению повторно обнулить его позицию.  
`AXIS#:SETZER`  

6. Убедиться, что позиция была обнулена.
`AXIS#:UPOS?`